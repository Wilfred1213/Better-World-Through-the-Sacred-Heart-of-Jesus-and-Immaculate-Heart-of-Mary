<!-- the main body -->
<div class ="col-md-10">
  <div class=" col-lg-12 col-xl-12 ">
  
{% for blog in page_obj %}
<div class="d-flex d-block mx-5 justify-content-center">
<div class="mx-2">
  
    
<div class="shadow  shadow-responsive mx-5 py-5 px-5 justify-content-center" style="width: 100%;">
<div class="row mx-5 my-5 bg-light p-5 d-block pt-2 class1">
  <div class="justify-content-center">
  
    <div class="col-sm-12 col-lg-6 mx-auto px-5 ">
      <div class="col-sm-12 mx-3 ">
        <div class="col-sm-12">
          <h3 class="col-sm-12">{{ blog.title|safe }}</h3>
        </div>
        <div class="row ">
          <div class="col-sm-9" style="width: 300px;">
            <img class="mx-5 img-thumbnail  " src="{{blog.image.url}}" alt="responsive" style="width: 250px; height:250px;">
          </div>
          </div>
          {% if user.is_staff %}
          <a href="{% url 'deleteBlog' blog.id %}"  class="bg-danger text-white">
            Delete Post  
          </a>
          {% endif %}
        
      </div>
    </div>
    <div class="col-md-6 col-lg-6 col-xl-6 mx-auto">
    
        
        <div class="text-center">
          <p class=" pt-3 bg-dark text-white">{{ blog.post_body | truncatewords:50|safe }}<a href="{% url 'blog_details' blog.id %}">Continue Reading</a></p>
        </div>
  
      <!--message and like  -->
      <div class="bg-secondary">  
        <div class="d-flex d-block p-2" >
          <div class="">
            
            <a href="{% url 'blog_details' blog.id %}">
              <button type="button" class="btn btn-primary position relative">
                Tab to comment
                
              </button>
              <span class="badge ">
          
                <!-- <span class="bg-dark border border-light p-2 rounded-pill">{{ comment_count }}</span> -->
                
              </span>
            </a> 
            
          </div>
        
        <div class=" mx-5 ">
          
          <form action ="{% url 'liked_main_blog' %}" method ="post" >
            {% csrf_token %}
            <input type="hidden"  name="like" value="{{blog.id}}"> 
            
          {% if user not in blog.liked.all %}
          <button class="btn btn-danger p-1" type="submit">like
          <span class="badge ">
            <span class="bg-dark border border-light p-1 rounded-pill">{{blog.liked.all.count}}</span>
          </span></button>
          {% else %}
          <button class="btn btn-info p-1" type="submit">UnLike
          <!-- <span class="badge ">
          <span class="bg-dark border border-light p-2 rounded-pill">1</span>
          </span> -->
          
          
          <span class="badge my-0 justify-content-start">
            <span class="bg-dark border border-light p-1 rounded-pill mx-2">{{blog.liked.all.count}}</span>
          </span>
          <!-- <strong>{{post_obj.liked.all.count}}</strong> --></button>
          {% endif %}
          </form>
          
        </div>
        
      </div>
    </div>

      <!-- end of message and like -->
    </div>
  </div>    
</div>
</div>

  
</div>
</div>
{% endfor %}
</div>
<!-- begining of paginations -->
<center>
<id class="container mx-auto">
<div class="text-white mx-5" style="font-size: 1.62rem;">
<br><br>
<!-- has page: {{page_obj}}<br> -->
{% if page_obj.has_previous %}
<a href="?page=1">&laquo First</a>
<a href="?page={{page_obj.previous_page_number}}">Previous</a>
{% endif %}
<span>{{ page_obj.number }} of {{page_obj.paginator.num_pages}}</span>
{% if page_obj.has_next %}
<a href="?page={{ page_obj.next_page_number }}">Next Page</a>
<a href="?page={{ page_obj.paginator.num_pages }}">Last
  &raquo
</a>
{% endif %}
</div>
</div>
</center>
<br>


<!-- end of paginations -->
